# 讨论1.3 再试一个多项式

## 问题

计算 $f(x)=1+​x+​x^2/2+...+x^i/i...+​x^{100}/100$ 在给定 `x` 处的值。

## 秦九韶算法

[秦九韶算法](https://zh.wikipedia.org/zh-hans/%E7%A7%A6%E4%B9%9D%E9%9F%B6%E7%AE%97%E6%B3%95)通过重新排列多项式的项，使得在计算多项式值时可以逐步积累结果，从而减少乘法和加法操作的数量。

这种优化是基于分配律的性质来实现的，它允许我们在每一步中将一部分结果累加到当前的计算中，而不是每次都进行完整的乘法操作。

对于 $f(x) = a_0 + a_1 x + a_2 x^2 + \ldots + a_{n-1} x^{n-1} + a_n x^n$

可以使用以下步骤来优化多项式值的计算：

1. 从最高次数 $n$ 的系数 $a_n$ 开始，初始化 `p` 为 $a_n$ 。

2. 对于 $i = n-1$ 到 $0$，重复以下步骤：
   
   - 更新 `p` 为 $px + a_i$

从最高次数的系数开始，逐步将乘法和加法操作结合在一起。因为每个系数只需要乘以 $x$ 并添加到当前 `p`，所以每个系数只需要进行**一次乘法**操作和一次加法操作，从而减少了整体的计算量。

> 相当于将上述多项式转化为：$f(x)=a_0+x(a_1+x(...(a_{n-1}+xa_n)...))$

这种算法的优点在于它可以在 $O(n)$ 的时间复杂度内计算多项式的值，其中 $n$ 是多项式的次数。相比于直接展开多项式并计算乘法和加法的 $O(n^2)$ 时间复杂度，秦九韶算法在高次数多项式的计算中具有明显的效率优势。